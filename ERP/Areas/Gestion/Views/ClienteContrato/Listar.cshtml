
@{
    ViewBag.Title = "Listar Contratos";

    //genera los estados
    var estado = new List<SelectListItem>();
    estado.Add(new SelectListItem { Text = "Activo", Value = "1" });
    estado.Add(new SelectListItem { Text = "Inactivo", Value = "0" });
}

<div>
    <div class="help-block"></div>
    <!--Filtro de la tabla-->
    <div class="row">
        <div class="col-md-12">
            <div class="col-md-8">
                <div id="form-filtro-tabla" class="form-inline">
                    <div class="form-group">
                        @Html.DropDownList("filtroEstados", estado, "Seleccione el estado", new { @class = "form-control selectpicker" })                        
                    </div>
                    <div class="form-group">
                        <input type="search" name="input-filtro" id="input-filtro" class="form-control" placeholder="Filtro" />
                        <input type="button" class="btn btn-secondary" value="BUSCAR" onclick="ListarContratos.reconstruirTabla()" />
                        <input type="button" class="btn btn-secondary" value="VER TODO" onclick="ListarContratos.ResetearTablaPais()" />
                    </div>
                </div>
            </div>
            @*@if (Sesion.HasPermission("PAR-SALARIO-INTEGRAL-CREAR))
                {*@
            <div class="col-md-1 col-md-offset-3">
                <a href="@Url.Action("Crear", "ClienteContrato", new {Area = "Gestion", Id = ViewBag.Id})" class="btn btn-primary">Adicionar</a>
            </div>
            @*}*@
        </div>
    </div>
    <hr />

    <!--Tabla-->
    <div class="row">
        <div class="col-md-12">
            <table id="tabla-Contratos" class="table table-striped table-bordered compact text-center" cellpadding="0" width="100%">
                <thead>
                    <tr>
                        <th class="text-center">Nit</th>
                        <th class="text-center">Cliente</th>
                        <th class="text-center">Tipo de contrato</th>
                        <th class="text-center">Nombre </th>
                        <th class="text-center">Fecha de firma</th>
                        <th class="text-center">Fecha de inicio</th>
                        <th class="text-center">Fecha de finalización</th>
                        <th class="text-center">Valor</th>
                        <th class="text-center">Archivo</th>
                        <th class="text-center">Estado</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>
</div>

@Styles.Render("~/bundles/dataTables.css")

@section Scripts{
    @Scripts.Render("~/bundles/dataTables.js")
    @Scripts.Render("~/Areas/Gestion/Scripts/ClienteContrato/Listar.js")

    <script type="text/javascript">
        var urlListar = "@Url.Action("Listar", "ClienteContrato", new { area = "Gestion", Id = ViewBag.Id })";
        var urlEditar = "@Url.Action("Editar", "ClienteContrato", new { area = "Gestion", idCliente = ViewBag.Id })";
        var urlArchivo = "@Url.Action("DownloadFile", "ClienteContrato", new { area = "Gestion" })";
        //var URL_EMPRESA_CLIENTE_CONTACTO_EDITAR = "@Url.Action("Editar", "ClienteContrato", new { Area = "Gestion" })";
        var PERMISO_EMPRESA_CLIENTE_CONTACTO_EDITAR = ("@Sesion.HasPermission("GES-EMPRESA_CLIENTE_CONTACTOS_EDITAR")" === "True");
    </script>
}




