@model EditarEmpresaViewModel
@{
    //Titulo
    ViewBag.Title = "Editar Empresa";

    //Clase body personalizado
    ViewBag.BodyClass = "body-background-gray";
    ViewBag.Logo = (!string.IsNullOrEmpty(Model.LogoPath)) ? @Url.Content(Model.LogoPath) : null;
}

<!-- Titulo y boton volver -->
<div class="col-md-12">
    <div class="pull-left">
        <h3><strong>@ViewBag.Title</strong></h3>
    </div>
    <div class="pull-right">
        <a href="@Url.Action("Ver", "Empresa", new { Area = "Gestion", id = Model.Id } )">
            <img src="@Url.Content("~/Content/images/boton-regresar-menu.png")" alt="" />
        </a>
    </div>
</div>

<!--Espacio vertical-->
<div class="help-block"></div>

<!--Formulario-->
@using (Ajax.BeginForm("Editar", "Empresa", new { Area = "Gestion" },
                            new AjaxOptions
                            {
                                HttpMethod = "POST",
                                OnBegin = "OnBeginEditarEmpresa",
                                OnComplete = "OnCompleteEditarEmpresa"
                            },
                            new { @class = "", role = "form" }))
{
    @Html.AntiForgeryToken()

    <div class="clearfix"></div>
    @Html.ValidationMessage("Error", new { @class = "text-danger" })
    @Html.ValidationMessage("Success", new { @class = "text-success" })
    @Html.ValidationSummary(false, "", new { @class = "alert alert-danger small col-md-12" })
    <div class="clearfix"></div>

    <div class="form-group col-md-6">
        @Html.LabelFor(m => m.NombreComercial, new { @class = "control-label" })
        @Html.TextBoxFor(m => m.NombreComercial, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.NombreComercial, "", new { @class = "text-danger" })
    </div>

    <div class="form-group col-md-6">
        @Html.LabelFor(m => m.RazonSocial, new { @class = "control-label" })
        @Html.TextBoxFor(m => m.RazonSocial, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.RazonSocial, "", new { @class = "text-danger" })
    </div>

    <div class="form-group col-md-6">
        @Html.LabelFor(m => m.Nit, new { @class = "control-label" })
        @Html.TextBoxFor(m => m.Nit, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.Nit, "", new { @class = "text-danger" })
    </div>

    <div class="form-group col-md-2">
        @Html.LabelFor(m => m.PaisId, new { @class = "control-label" })
        @Html.DropDownListFor(m => m.PaisId, Model.ListaPaises, "Seleccione", new
   {
       @class = "form-control",
       onchange = "OnChangePais(this, " +
            "'" + Url.Action("ListaOpcionesPorPais", "Departamento", new { Area = "Parametrizacion" }) + "', " +
            "'" + Url.Action("ListarOpcionesPorPais", "CajaCompensacion", new { Area = "Parametrizacion" }) + "');"
   })
        @Html.ValidationMessageFor(m => m.PaisId, "", new { @class = "text-danger" })
    </div>

    <div class="form-group col-md-2">
        @Html.LabelFor(m => m.DepartamentoId, new { @class = "control-label" })
        @Html.DropDownListFor(m => m.DepartamentoId, Model.ListaDepartamentos, "Seleccione", new
   {
       @class = "form-control",
       onchange = "OnChangeDepartamento(this, '" + Url.Action("ListaOpcionesCiudadesPorDepartamento", "Ciudad", new { Area = "Parametrizacion" }) + "');"
   })
        @Html.ValidationMessageFor(m => m.DepartamentoId, "", new { @class = "text-danger" })
    </div>

    <div class="form-group col-md-2">
        @Html.LabelFor(m => m.CiudadId, new { @class = "control-label" })
        @Html.DropDownListFor(m => m.CiudadId, Model.ListaCiudades, "Seleccione", new { @class = "form-control selectpicker", data_live_search="true" })
        @Html.ValidationMessageFor(m => m.CiudadId, "", new { @class = "text-danger" })
    </div>

    <div class="form-group col-md-6">
        @Html.LabelFor(m => m.Direccion, new { @class = "control-label" })
        @Html.TextBoxFor(m => m.Direccion, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.Direccion, "", new { @class = "text-danger" })
    </div>

    <div class="form-group col-md-6">
        @Html.LabelFor(m => m.FechaAniversario, new { @class = "control-label" })
        @Html.TextBoxFor(m => m.FechaAniversario, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.FechaAniversario, "", new { @class = "text-danger" })
    </div>

    <div class="form-group col-md-6">
        @Html.LabelFor(m => m.Telefono, new { @class = "control-label" })
        @Html.TextBoxFor(m => m.Telefono, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.Telefono, "", new { @class = "text-danger" })
    </div>

    <div class="form-group col-md-6">
        @Html.LabelFor(m => m.Correo, new { @class = "control-label" })
        @Html.TextBoxFor(m => m.Correo, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.Correo, "", new { @class = "text-danger" })
    </div>

    <div class="form-group col-md-6">
        @Html.LabelFor(m => m.CajaCompensacionId, new { @class = "control-label" })
        @Html.DropDownListFor(m => m.CajaCompensacionId, Model.ListaCajasCompensacion, "Seleccione", new { @class = "form-control selectpicker", data_live_search="true" })
        @Html.ValidationMessageFor(m => m.CajaCompensacionId, "", new { @class = "text-danger" })
    </div>

    <div class="form-group col-md-6">
        @Html.LabelFor(m => m.Logo, new { @class = "control-label" })
        <input id="Logo" name="Logo" type="file" onchange="UploadFile(this)" />
        @Html.ValidationMessageFor(m => m.Logo, "", new { @class = "text-danger" })
        <div id="content-logo" class="content-logo">
            <img src="@ViewBag.Logo" class="img-responsive" />
        </div>
    </div>

    <div class="clearfix"></div>

    <div class="form-group col-md-6">
        @Html.LabelFor(m => m.NotaLegalGeneral, new { @class = "control-label" })
        @Html.TextAreaFor(m => m.NotaLegalGeneral, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.NotaLegalGeneral, "", new { @class = "text-danger" })
    </div>

    <div class="form-group col-md-6">
        @Html.LabelFor(m => m.NotaLegalOC, new { @class = "control-label" })
        @Html.TextAreaFor(m => m.NotaLegalOC, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.NotaLegalOC, "", new { @class = "text-danger" })
    </div>

    <div class="form-group col-md-6">
        @Html.LabelFor(m => m.NotaLegalOP, new { @class = "control-label" })
        @Html.TextAreaFor(m => m.NotaLegalOP, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.NotaLegalOP, "", new { @class = "text-danger" })
    </div>

    <div class="form-group col-md-6">
        @Html.LabelFor(m => m.Volumen, new { @class = "control-label" })
        @Html.CheckBoxFor(m => m.Volumen, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.Volumen, "", new { @class = "text-danger" })
    </div>

    <div class="form-group col-md-12"></div>

    <div class="form-group col-md-6">
        @Html.LabelFor(m => m.Facebook, new { @class = "control-label" })
        @Html.TextBoxFor(m => m.Facebook, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.Facebook, "", new { @class = "text-danger" })
    </div>

    <div class="form-group col-md-6">
        @Html.LabelFor(m => m.Twitter, new { @class = "control-label" })
        @Html.TextBoxFor(m => m.Twitter, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.Twitter, "", new { @class = "text-danger" })
    </div>

    <div class="form-group col-md-6">
        @Html.LabelFor(m => m.Youtube, new { @class = "control-label" })
        @Html.TextBoxFor(m => m.Youtube, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.Youtube, "", new { @class = "text-danger" })
    </div>

    <div class="form-group col-md-6">
        @Html.LabelFor(m => m.PaginaWeb, new { @class = "control-label" })
        @Html.TextBoxFor(m => m.PaginaWeb, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.PaginaWeb, "", new { @class = "text-danger" })
    </div>

    <div class="form-group col-md-6">
        @Html.LabelFor(m => m.Estado, new { @class = "control-label" })
        <div class="radio">
            <label>
                @Html.RadioButtonFor(m => m.Estado, false)
                Inactivar
            </label>
        </div>
        <div class="radio">
            <label>
                @Html.RadioButtonFor(m => m.Estado, true)
                Activar
            </label>
        </div>
        @Html.ValidationMessageFor(m => m.Estado, "", new { @class = "text-danger" })
    </div>

    <div class="clearfix"></div>
    <div class="text-right">
        <button type="submit" class="btn btn-secondary" value="Guardar">Guardar</button>
        <a href="@Url.Action("Ver", "Empresa", new { Area = "Gestion", id = Model.Id } )" class="btn btn-warning">Cancelar</a>
    </div>
}

@section Scripts{

    @Scripts.Render("~/Areas/Gestion/scripts/Empresa/Editar.js")
    <script>
        var URL_UPLOAD = "@Url.Action("EditarUpload", "Empresa", new { Area = "Gestion" })";
        var URL_VER_EMPRESA = "@Url.Action("Ver", "Empresa", new { Area = "Gestion", id = Model.Id })";

        initEdicionEmpresa();
    </script>
}