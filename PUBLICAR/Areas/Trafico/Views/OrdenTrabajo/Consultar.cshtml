@model ConsultarOrdenTrabajoViewModel
@{
    ViewBag.Title = $"Orden de Trabajo {Model.Codigo}";
}

<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h4 class="modal-title">@ViewBag.Title</h4>
</div>

<div class="modal-body">
    <div class="form-group col-md-6">
        @Html.LabelFor(m => m.Codigo, new { @class = "control-label" })
        @Html.TextBoxFor(m => m.Codigo, new { @class = "form-control", @readonly = "readonly" })
    </div>
    <div class="form-group col-md-6">
        @Html.LabelFor(m => m.Estado, new { @class = "control-label" })
        @Html.TextBoxFor(m => m.Estado, new { @class = "form-control", @readonly = "readonly" })
    </div>
    <div class="form-group col-md-6">
        @Html.LabelFor(m => m.Empresa, new { @class = "control-label" })
        @Html.TextBoxFor(m => m.Empresa, new { @class = "form-control", @readonly = "readonly" })
    </div>
    <div class="form-group col-md-6">
        @Html.LabelFor(m => m.Cliente, new { @class = "control-label" })
        @Html.TextBoxFor(m => m.Cliente, new { @class = "form-control", @readonly = "readonly" })
    </div>
    <div class="form-group col-md-6">
        @Html.LabelFor(m => m.Producto, new { @class = "control-label" })
        @Html.TextBoxFor(m => m.Producto, new { @class = "form-control", @readonly = "readonly" })
    </div>
    @if (Model.ProfesionalCliente != null)
    {
        <div class="form-group col-md-6">
            @Html.LabelFor(m => m.ProfesionalCliente, new { @class = "control-label" })
            @Html.TextBoxFor(m => m.ProfesionalCliente, new { @class = "form-control", @readonly = "readonly" })
        </div>
    }
    <div class="clearfix"></div>
    <div class="form-group col-md-4">
        @Html.LabelFor(m => m.NombreDirector, new { @class = "control-label" })
        @Html.TextBoxFor(m => m.NombreDirector, new { @class = "form-control", @readonly = "readonly" })
    </div>
    <div class="form-group col-md-4">
        @Html.LabelFor(m => m.NombreEjecutivo, new { @class = "control-label" })
        @Html.TextBoxFor(m => m.NombreEjecutivo, new { @class = "form-control", @readonly = "readonly" })
    </div>
    <div class="form-group col-md-4">
        @Html.LabelFor(m => m.NombreProductorEjecutivo, new { @class = "control-label" })
        @Html.TextBoxFor(m => m.NombreProductorEjecutivo, new { @class = "form-control", @readonly = "readonly" })
    </div>
    <div class="form-group col-md-12">
        @Html.LabelFor(m => m.Referencia, new { @class = "control-label" })
        @Html.TextBoxFor(m => m.Referencia, new { @class = "form-control", @readonly = "readonly" })
    </div>
    <div class="form-group col-md-12">
        @Html.LabelFor(m => m.Descripcion, new { @class = "control-label" })
        @Html.TextAreaFor(m => m.Descripcion, new { @class = "form-control", @readonly = "readonly" })
    </div>
    <div class="clearfix"></div>
    <div class="form-group col-md-4">
        @Html.LabelFor(m => m.FechaHoraCreacion, new { @class = "control-label" })
        @Html.TextBoxFor(m => m.FechaHoraCreacion, new { @class = "form-control", @readonly = "readonly" })
    </div>
    <div class="form-group col-md-4">
        @Html.LabelFor(m => m.NombreCreador, new { @class = "control-label" })
        @Html.TextBoxFor(m => m.NombreCreador, new { @class = "form-control", @readonly = "readonly" })
    </div>
    <div class="clearfix"></div>
    <div class="text-right">
        @if (Sesion.HasPermission("TRA-ORDEN_TRABAJO_TRASLADAR"))
        {
            <a href="@Url.Action("Trasladar", "OrdenTrabajo", new { Area = "Trafico", id = Model.OrdenTrabajoId })" class="btn btn-secondary" data-toggle="modal" data-target="#" data-size="lg">
                Trasladar
            </a>
        }
        @if (Sesion.HasPermission("TRA-ORDEN_TRABAJO_EDITAR"))
        {
            <a href="@Url.Action("Editar", "OrdenTrabajo", new { Area = "Trafico", id = Model.OrdenTrabajoId })" class="btn btn-secondary" data-toggle="modal" data-target="#" data-size="lg">
                Editar
            </a>
        }
        @if (Sesion.HasPermission("TRA-ORDEN_TRABAJO_BLOQUEO"))
        {
            if (@Model.Bloqueo != 0)
            {
                <button type="button" class="btn btn-secondary alert-success" onclick="Bloquar.OnChangeBloquear(this, @Model.Bloqueo)">Desbloquear</button>
            }
            else
            {
                <button type="button" class="btn btn-danger" onclick="ORDEN_TRABAJO_LISTAR.OnChangeBloquear(this, @Model.Bloqueo)">Bloquear</button>
            }

        }
        <a href="@Url.Action("ListarHistorialCambios", "OrdenTrabajo", new { Area = "Trafico", id = Model.OrdenTrabajoId })" class="btn btn-secondary" data-toggle="modal" data-target="#" data-size="all" data-execute-onload="ORDEN_TRABAJO_HISTORIAL_CAMBIOS.OnLoad">
            Historial cambios
        </a>
        <button type="button" class="btn btn-warning" data-dismiss="modal">Cerrar</button>
    </div>
</div>
