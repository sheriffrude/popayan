@model ListarEmpresaDocumentoLegalViewModel
@{
    ViewBag.Title = "Documentos legales";
}

<!-- Titulo y boton volver -->
<div class="row">
    <div class="col-md-12 col-xs-6 text-right">
        @if (Sesion.HasPermission("GES-EMPRESA_DOCUMENTO_LEGAL_ENVIAR"))
        {
            <a href="@Url.Action("EnviarDocumentos", "EmpresaDocumentoLegal", new { Area = "Gestion", id = Model.EmpresaId })" title="Enviar Documentos Legales" class="btn btn-secondary">
                Enviar Documentos Legales
            </a>
        }
        @if (Sesion.HasPermission("GES-EMPRESA_DOCUMENTO_LEGAL_CREAR"))
        {
            <a href="@Url.Action("Crear", "EmpresaDocumentoLegal", new {Area = "Gestion", id = Model.EmpresaId})" title="Crear Documento Legal" class="btn btn-secondary">
                Crear Documento Legal
            </a>
        }
        <a href="@Url.Action("Ver", "Empresa", new { Area = "Gestion", id = Model.EmpresaId } )" title="Cerrar" class="btn btn-warning">
            Cerrar
        </a>
    </div>
</div>
<!--Filtro tipo documento legal-->

<!--Filtro de la tabla-->
<div class="form-group col-md-4 padding-left-0">
    @Html.LabelFor(m => m.DocLegalEmpresaId, new { @class = "control-label" })
    @Html.DropDownListFor(m => m.DocLegalEmpresaId, Model.ListaTipoDocumentoLegal, "Seleccione", new {
        @class = "form-control selectpicker",
        data_live_search = "true",
        onchange = "OnChangeDocumento(this)"
})
    @Html.ValidationMessageFor(m => m.DocLegalEmpresaId, "", new { @class = "text-danger" })
</div>
<div class="form-group col-md-6  padding-right-0">
    <label> </label>
    <div class="form-group form-inline">
        <div class="checkbox col-md-4">
            <label>
                <input type="checkbox" name="filtro-checkbox-tabla" checked="checked" value="2" />
                Fecha de vencimiento
            </label>
        </div>
        <div class="checkbox col-md-4">
            <label>
                <input type="checkbox" name="filtro-checkbox-tabla" checked="checked" value="3" />
                Notifica a
            </label>
        </div>
        <div class="checkbox col-md-4">
            <label>
                <input type="checkbox" name="filtro-checkbox-tabla" checked="checked" value="5" />
                Descarga
            </label>
        </div>
        @Html.ValidationMessageFor(m => m.EmpresaId, "", new { @class = "text-danger" })
    </div>
</div>
<!--Tabla-->
<div class="row">
    <div class="col-md-12">
        @Html.HiddenFor(m => m.EmpresaId)
        <table id="tabla-empresa-impuesto-documento-legal" class="table table-striped table-bordered compact text-center" cellpadding="0" width="100%">
            <thead>
                <tr>
                    @*<th class="text-center"></th>*@
                    <th class="text-center">Tipo de Documento</th>
                    <th class="text-center">Nombre</th>
                    <th class="text-center">Fecha de vencimiento</th>
                    <th class="text-center">Notificar a</th>
                    <th class="text-center">Estado</th>
                    <th class="text-center"></th>
                    <th class="text-center"></th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
</div>

@Styles.Render("~/bundles/dataTables.css")
@section Scripts{
    @Scripts.Render("~/bundles/dataTables.js")
    <!--Script listar Empresa impuestos-->
    <script type="text/javascript">
        var URL_LISTAR_EMPRESA_DOCUMENTO_LEGAL = "@Url.Action("Listar", "EmpresaDocumentoLegal", new { Area = "Gestion", id = Model.EmpresaId })";
        var URL_DESCARGAR_EMPRESA_DOCUMENTO_LEGAL = "@Url.Action("DownloadFile", "EmpresaDocumentoLegal", new { Area = "Gestion"})";
        var URL_EDITAR_EMPRESA_DOCUMENTO_LEGAL = "@Url.Action("Editar", "EmpresaDocumentoLegal", new { Area = "Gestion"})";
        var PERMISO_DESCARGAR_EMPRESA_DOCUMENTO_LEGAL = ("@Sesion.HasPermission("GES-EMPRESA_DOCUMENTO_LEGAL_DESCARGAR")" === "True");
        var PERMISO_EDITAR_EMPRESA_DOCUMENTO_LEGAL = ("@Sesion.HasPermission("GES-EMPRESA_DOCUMENTO_LEGAL_DESCARGAR")" === "True");
    </script>
    @Scripts.Render("~/Areas/Gestion/scripts/EmpresaDocumentoLegal/Listar.js")
}