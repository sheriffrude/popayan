@model JerarquiaAprobacionGrupoCrearViewModel
@{
    ViewBag.Title = "Crear grupo";
}

<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true" onclick="crearGrupo.cancelarProceso()">&times;</button>
    <h4 class="modal-title">@ViewBag.Title</h4>
</div>

<form id="form_jerarquia_aprobacion_grupo_crear">
    <div class="modal-body">
        <div class="clearfix"></div>
        @Html.ValidationMessage("Error", new { @class = "text-danger" })
        @Html.ValidationMessage("Success", new { @class = "text-success" })
        @Html.ValidationSummary(false, "", new { @class = "alert alert-danger small col-md-12" })
        <div class="clearfix"></div>

        <div class="form-group col-md-6">
            @Html.LabelFor(m => m.Grupo, new { @class = "control-label" })
            @Html.TextBoxFor(m => m.Grupo, new { @class = "form-control", required = "required", placeholder = "Grupo", maxlength = "100" })
            @Html.ValidationMessageFor(m => m.Grupo, "", new { @class = "text-danger" })
        </div>

        @if (Model.JerarquiaAprobacionTipoId == GestionCustom.JerarquiaAprobacionTipo.PresupuestoInterno.GetHashCode()
                        || Model.JerarquiaAprobacionTipoId == GestionCustom.JerarquiaAprobacionTipo.Cotizacion.GetHashCode()
                        || Model.JerarquiaAprobacionTipoId == GestionCustom.JerarquiaAprobacionTipo.CancelacionPresupuesto.GetHashCode()
                        || Model.JerarquiaAprobacionTipoId == GestionCustom.JerarquiaAprobacionTipo.CierrePresupuesto.GetHashCode())
        {
            <div class="form-group col-md-6">
                @Html.LabelFor(m => m.PosicionRentabilidadId, new { @class = "control-label" })
                @Html.DropDownListFor(m => m.PosicionRentabilidadId, Model.ListaPosicionesRentabilidad, "Seleccione", new { @class = "form-control selectpicker" })
                @Html.ValidationMessageFor(m => m.PosicionRentabilidadId, "", new { @class = "text-danger" })
            </div>
        }

        <div class="clearfix"></div>

        <div class="form-group col-md-6">
            <label class="control-label">Usuario(s)</label>
            <div class="col-md-11 padding-left-0 padding-right-0">
                @Html.DropDownList("UsuarioId", Model.ListaUsuarios, "Seleccione", new { @class = "form-control selectpicker", data_live_search = "true" })
            </div>
            <span class="input-group-btn col-md-1 padding-left-0 padding-right-0">
                <button type="button" class="btn btn-secondary" onclick="JerarquiaAprobacionGrupoCrear.AgregarUsuario()">
                    <i class="fa fa-plus" aria-hidden="true"></i> Agregar
                </button>
            </span>
        </div>

        <div class="row">
            <div class="col-md-12">
                <table id="tabla_usuarios" class="table table-striped table-bordered compact text-center" cellpadding="0" width="100%">
                    <thead>
                        <tr>
                            <th class="text-center">Usuario</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="modal-footer">
        <button type="button" class="btn btn-success" onclick="JerarquiaAprobacionGrupoCrear.AgregarGrupo()">GUARDAR</button>
        <button type="button" class="btn btn-warning" data-dismiss="modal" onclick="JerarquiaAprobacionGrupoCrear.Cancelar()">CERRAR</button>
    </div>
</form>